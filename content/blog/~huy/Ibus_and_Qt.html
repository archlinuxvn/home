---
title: Qt app and Ibus
---

# Qt App and Ibus

Các ứng dụng viết bằng QT có một nhược điểm là nó không nhận Ibus, vd như Skype hay Opera,...Muốn system nhận thì phải thông qua X input.

* Sau khi check các env sau khi khởi động hệ thống thì kết luận là thiếu các biến môi trường:

+ Nhấp phải chọn Input Method trên terminal chọn "X input method", chuyển bộ gõ không có kết quả.

`env | grep ibus` =>> không có kết quả

`ibus-daemon -x --replace` =>> không hiệu quả.

`export XIM_PROGRAM=ibus` =>> không có hiệu quả



**Solved:**

+Cài đặt ibus-qt bằng lệnh : `sudo pacman -S ibus-qt`

+Trên terminal gõ: `qtconfig` chọn tab Interfaces, chọn `default input method` là ibus thay cho xim.

* Sau khi tiến hành kiểm tra như trên xong, mình tiến hành export biến môi trường khi user login vào: <br/>
+Thêm ba dòng sau vào .bashrc:
<pre>
export GTK_IM_MODULE=ibus

export XMODIFIERS=@im=ibus

export QT_IM_MODULE=ibus
</pre>

Hầu hết các ứng dụng QT sẽ chạy với Ibus khi export đủ ba biến môi trường trên, `tuyệt đối không thêm dòng: ibus-daemon -x -d vào .bashrc sẽ gây crash ibus !`

 

**với Opera hoặc các app không nhận Ibus**

Mặc dù đã thêm ba dòng trên vào .bashrc tuy nhiên có một số vấn đề trên Opera làm nhiều Users *Nix khó chịu là không nhận ibus, có một số tip như sau:

XIM=ibus ( với mình không hiệu quả )

 

**Solved:**

chạy opera trên terminal với lệnh:

`XMODIFIERS=@im=ibus opera`

=>> chung : `XMODIFIERS=@im=ibus QT_Apps_command`

**Update:**

`Có thể chỉnh sửa /etc/profile như sau để giải quyết vấn đề (thật ra file /etc/profile nó được set đầu tiên trước .bashrc và wide trong system )`
<pre>
export XMODIFIERS="@im=ibus"

export GTK_IM_MODULE="ibus"

export QT4_IM_MODULE="ibus"

export QT_IM_MODULE="ibus"
</pre>
