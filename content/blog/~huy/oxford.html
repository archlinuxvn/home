---
title: Oxford Advanced Learners' dictionary and Arch
tags: ['oxford', 'dictionary', 'flashplayer']
---


* ToC
{:toc}


Nghe thiên hạ đồn, `Oxford Advanced learners's Dictionary` tốt, tác giả cũng cố gắng dùng. Nhưng cũng không ít khó khăn khi cài bộ từ điển này, nhất là `flash`.

 

## Bài toán về phiên bản của Flashplayer

- Có hay không cho 1 hệ thống chạy 2 phiên bản flashplayer ?

Câu trả lời là có. `Oxford Dictionary` dùng `Mozilla rumtime environment` để khởi chạy, việc chỉ định dùng thư viện phiên bản nào là có thể làm được.

## Bài toán thư viện và giải quyết

Sau khi cài đặt `Oxford dictionary` trong lần khởi chạy đầu tiên bạn sẽ bị cảnh báo thiếu thư viện như:

    LoadPlugin: failed to initialize shared library /home/dragon/oald8/plugins/libflashplayer.so [libplc4.so.0d: cannot open shared object file: No such file or directory]

 

=>> Bạn cần làm vài thao tác sau:

    ln -s libplds4.so libplds4.so.0d
    ln -s libnspr4.so libnspr4.so.0d
    ln -s libplc4.so libplc4.so.0d

Ok, đến đây chỉ là nửa đường thôi, nếu bạn nóng vội chạy ngay file `oald8` thì sẽ gặp lỗi:

    ./run-oald8.sh: line 131:  1502 Segmentation fault      (core dumped) "$prog" ${1+"$@"}

Khi tác giả debug thì nhận ra rằng do `flashplayer của OALD8` và `flashplayer của hệ thống` **xung đột**. Đó là lý do xuất hiện câu hỏi ở trên.

+ Giải pháp

Việc tìm kiếm thư viện trong hệ thống Linux dựa vào biến môi trường, và mozilla rumtime environment cũng vậy.

Việc chỉ định thư viện cho các plugin của Mozilla dựa theo biến môi trường:

    MOZ_PLUGIN_PATH=

Vậy vấn đề là cần chỉ định nó cho OALD8 là xong, còn flash của hệ thống thì kệ nó.

+ File thực thi OALD8:

Bạn cần viết một bash file với nội dung như sau :

    #!/bin/sh
    export MOZ_PLUGIN_PATH=/path/oald8/plugins
    padsp /home/dragon/oald8/oald8 

Vì không có âm thanh nên cần một thiết bị áp vào, đó là lệnh `padsp`

Done ! bây giờ bạn chạy file bash trên là OALD8 sẽ chạy tốt mà không cần làm gì với flashplayer của hệ thống.

*Note*: Có vấn đề mà tác giả chưa giải quyết được là phần Resources không dùng được, có vẻ lỗi gì đó nhưng không debug được. Do chung một dữ liệu nên dù cài ở Mc, Windows hay Linux thì cũng chỉ có những file resources ở thư mục oald.data mà thôi, do đó, vấn đề nằm ở Arch.

Nếu không yêu cầu cao thì bạn có thể dùng hầu hết tính năng rồi, còn phần resources, tác giả hẹn update một dịp khác, có nêu rõ nguyên nhân.

Kind regards,

Severus
